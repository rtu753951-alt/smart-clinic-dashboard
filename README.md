# Medical Clinic Insight & Compliance Assistant

### é†«ç¾ç‡Ÿé‹æ´å¯Ÿèˆ‡åˆè¦æª¢æŸ¥å„€è¡¨æ¿

> [!IMPORTANT]
> **âš ï¸ é‡è¦è²æ˜**ï¼šæœ¬ç³»çµ±ä¸æä¾›ä»»ä½•é†«ç™‚è¨ºæ–·æˆ–æ²»ç™‚å»ºè­°ï¼Œå…¶ AI åˆ†æçµæœåƒ…ä¾›ç‡Ÿé‹æ•ˆç‡è©•ä¼°èˆ‡è¡ŒéŠ·æ–‡æ¡ˆåˆè¦åƒè€ƒã€‚

![License](https://img.shields.io/badge/license-Private-red.svg)
![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)
![Status](https://img.shields.io/badge/AI-Active-green.svg)

**é€™æ˜¯ä¸€å€‹çµåˆ AI è¡ŒéŠ·åˆè¦æª¢æŸ¥èˆ‡å¤§æ•¸æ“šåˆ†æçš„ç¶“ç‡Ÿç®¡ç†ç³»çµ±ï¼Œæ—¨åœ¨å”åŠ©é†«ç¾è¨ºæ‰€ç¶“ç‡Ÿè€…ç›£æ§æ½›åœ¨åˆè¦é¢¨éšªä¸¦å„ªåŒ–ç‡Ÿé‹ç¸¾æ•ˆã€‚**

ç³»çµ±æ ¸å¿ƒæ¡ç”¨ Google Gemini API èˆ‡ç¾ä»£åŒ–å‰ç«¯è¦–è¦ºåŒ–æŠ€è¡“ï¼Œèƒ½å³æ™‚åˆ†æå¤§é‡é ç´„èˆ‡ç‡Ÿæ”¶æ•¸æ“šï¼Œä¸¦é‡å°è¡ŒéŠ·æ–‡æ¡ˆèˆ‡ç¶“ç‡Ÿç­–ç•¥æä¾›å…·å‚™ã€Œå°ˆæ¥­ï¼å‹å–„å¹½é»˜ã€é›™é‡èªæ°£çš„ AI ç‡Ÿé‹æ´å¯Ÿæ‘˜è¦ã€‚

---

## âœ¨ Key Features (æ ¸å¿ƒåŠŸèƒ½äº®é»)

### ğŸ¤– 1. AI è¡ŒéŠ·åˆè¦æª¢æŸ¥ (AI Compliance Audit)

- **é¡§å•å¼èªæ°£å»ºè­°**ï¼šæä¾›å…·å‚™ã€Œå‹å–„å¹½é»˜ã€çš„è¦ªåˆ‡å»ºè­°ã€‚ä¸å†æ˜¯å†·å†°å†°çš„æ³•è¦æ¢æ–‡ï¼Œè€Œæ˜¯åƒè³‡æ·±é¡§å•èˆ¬çš„è²¼å¿ƒï¼ˆèˆ‡è¼•é¬†æ˜“æ‡‚ï¼‰æé†’ã€‚
- **é›™é‡èªæ°£åˆ‡æ›**ï¼šç³»çµ±æ”¯æ´åœ¨ã€Œå°ˆæ¥­åš´è¬¹ã€èˆ‡ã€Œå‹å–„å¹½é»˜ã€å…©ç¨®æ¨¡å¼é–“åˆ‡æ›ï¼Œè®“åˆè¦æª¢æŸ¥éç¨‹å…¼å…·ç²¾æº–åº¦èˆ‡äº’å‹•é«”é©—ã€‚

### ğŸš¨ 2. AI ç‡Ÿé‹é è­¦ (AI Operational Alert) **[NEW]**

> ã€Œæ­¤åŠŸèƒ½ç‚ºè¦å‰‡ï¼è³‡æ–™äº¤å‰æ¯”å°ï¼ˆRule-basedï¼‰ï¼Œä¸ä¾è³´ç”Ÿæˆå¼æ¨¡å‹ï¼Œäº¦ä¸æ¶ˆè€— AI tokenã€‚ã€
> è¼¸å‡ºç‚ºã€Œç¼ºå£é …ç›®æ¸…å–®ï¼ˆæœå‹™é …ç›® Ã— ç¼ºå°‘èªè­‰è·é¡/äººå“¡ï¼‰ã€èˆ‡å»ºè­°è™•ç½®ï¼ˆèª¿åº¦/è¨“ç·´/æš«åœä¸Šæ¶ï¼‰ã€‚

- **äººåŠ›èˆ‡æœå‹™äº¤å‰æ¯”å°**ï¼šç³»çµ±å…·å‚™æ™ºæ…§æƒæå¼•æ“ï¼Œèƒ½è‡ªå‹•äº¤å‰æ¯”å° `services.csv` (æœå‹™é …ç›®åƒ¹ç›®è¡¨) èˆ‡ `staff.csv` (äººå“¡æŠ€èƒ½èªè­‰)ã€‚
- **åŸ·è¡ŒäººåŠ›ç¼ºå£åµæ¸¬**ï¼šä¸»å‹•è­˜åˆ¥ç‡Ÿé‹é¢¨éšªã€‚ä¾‹å¦‚ï¼šç•¶è¨ºæ‰€æ–°å¢é«˜å–®åƒ¹é …ç›®ï¼ˆå¦‚ï¼šå¾®æ™¶ç£¨çš®ï¼‰ï¼Œä½†ç³»çµ±åµæ¸¬åˆ°ç¾æœ‰äººå“¡ä¸­ç„¡äººå…·å‚™è©²é …ç›®çš„æ“ä½œèªè­‰æ™‚ï¼Œå°‡è‡ªå‹•ç™¼å‡ºé è­¦ï¼Œå”åŠ©ç®¡ç†å±¤å³æ™‚å®‰æ’åŸ¹è¨“ï¼Œé¿å…åˆè¦é¢¨éšªã€‚

### ğŸ“‰ 3. å‹•æ…‹é¢¨éšªé è­¦ç³»çµ± (Dynamic Risk Alert)

- **è¦–è¦ºåŒ–åˆ†ç´šæç¤º**ï¼šæ ¹æ“š AI æª¢æŸ¥çµæœè‡ªå‹•åˆ‡æ› UI é¢¨éšªç­‰ç´šï¼š
  - **ğŸ”´ é«˜é¢¨éšª**ï¼šä»‹é¢ä»¥ **ç´…æ¡†é«˜äº®é¡¯ç¤º**ï¼Œä¸¦æ¨™è¨» âš ï¸ è­¦å‘Šåœ–æ¨™ã€‚è©³ç´°é¡¯ç¤ºé•è¦åŸå› èˆ‡ **ä¿®æ­£å»ºè­°æ–¹å‘**ã€‚
  - **ğŸŸ¡ ä¸­é¢¨éšª**ï¼šæç¤ºéœ€å„ªåŒ–ä¹‹è¾­å½™ï¼Œä¸¦æä¾›å…·é«”çš„æ›¿ä»£è¡¨è¿°å»ºè­°ã€‚
  - **ğŸŸ¢ ä½é¢¨éšª**ï¼šé¡¯ç¤ºç¶ ç‡ˆæç¤ºï¼Œä»£è¡¨æ–‡æ¡ˆç„¡æ˜é¡¯é•è¦ç–‘æ…®ã€‚
- **API å†·å»èˆ‡é˜²è­·**ï¼šå…§å»ºæ™ºæ…§å†·å» UIï¼Œç¢ºä¿åœ¨è«‹æ±‚é »ç¹æ™‚ç¶­æŒç³»çµ±ç©©å®šã€‚

### ğŸ“Š 4. è¬ç­†ç´šæ•¸æ“šæ¥µé€Ÿè™•ç† (Big Data Insights)

- **é«˜æ•ˆèƒ½è§£ææ¶æ§‹**ï¼šæ¡ç”¨å„ªåŒ–çš„ Data Store æ¶æ§‹ï¼Œèƒ½ç©©å®šè¼‰å…¥ä¸¦è§£æåŒ…å« **55,000+** ç­†ç¶“ç‡Ÿæ•¸æ“šçš„é€šç”¨æ ¼å¼ CSVã€‚
- **å‰ç«¯é‚Šç·£é‹ç®—**ï¼šåœ¨ç€è¦½å™¨ç«¯å³å¯å®Œæˆè¤‡é›œçš„äº¤å‰åˆ†æï¼ˆé†«å¸«å·¥æ™‚ã€åˆ°è¨ºç‡ã€ä¸»åŠ›ç™‚ç¨‹ç‡Ÿæ”¶åˆ†æï¼‰ï¼Œç„¡éœ€ä¾è³´é¾å¤§å¾Œç«¯ä¼ºæœå™¨ï¼Œä¿éšœè³‡æ–™éš±ç§ã€‚

---

## ğŸ”’ Security & Privacy (è³‡å®‰èˆ‡éš±ç§)

### è³‡å®‰æ¶æ§‹ï¼šBYOK (Bring Your Own Key)

æœ¬å°ˆæ¡ˆæ¡ç”¨ **BYOK** æ¨¡å¼è¨­è¨ˆï¼Œç¢ºä¿æ‚¨çš„ API é‡‘é‘°å®Œå…¨æŒæ¡åœ¨è‡ªå·±æ‰‹ä¸­ã€‚

1. **æœ¬åœ°åŸ·è¡Œ**ï¼šæœ¬å°ˆæ¡ˆ**ä¸æœƒ**å°‡æ‚¨çš„ API Key ä¸Šå‚³æˆ–ä¿å­˜æ–¼ã€Œé–‹ç™¼è€…è‡ªå»ºä¼ºæœå™¨ã€ã€‚é‡‘é‘°åƒ…æ–¼ç€è¦½å™¨ç«¯æœ¬åœ°ä¿å­˜ (`localStorage`)ï¼Œä¸¦ç”¨æ–¼å‘¼å« Google å®˜æ–¹ APIï¼ˆå¯æ–¼ DevTools æª¢è¦–ç¶²è·¯è«‹æ±‚ï¼‰ã€‚
2. **ç’°å¢ƒéš”é›¢**ï¼šé–‹ç™¼é…ç½®åš´æ ¼éµå®ˆ `.gitignore` è¦ç¯„ï¼Œç¢ºä¿æ•æ„Ÿè³‡è¨Šä¸å¤–æµã€‚
3. **å»ºè­°æªæ–½**ï¼šå»ºè­°æ–¼ Google AI Studio å° API Key è¨­å®š `HTTP Referrer` ç¶²åŸŸé™åˆ¶ï¼Œé€²ä¸€æ­¥é™ä½è¢«æ¿«ç”¨é¢¨éšªã€‚

### ğŸ›¡ï¸ è³‡æ–™éš±ç§è¦ç¯„

- **åƒ…é™æ¨¡æ“¬æ•¸æ“š**ï¼šRepo å…§é™„å¸¶çš„æ•¸æ“šå‡ç‚ºç”Ÿæˆçš„**è™›æ“¬æ¨¡æ“¬è³‡æ–™**ã€‚
- **åš´ç¦ä¸Šå‚³çœŸå¯¦å€‹è³‡**ï¼šä½¿ç”¨è€…**åš´ç¦**å°‡çœŸå¯¦æ‚£è€…çš„å€‹è³‡ (PII) æˆ–æ•æ„Ÿé†«ç™‚ç´€éŒ„ä¸Šå‚³è‡³æœ¬ Repositoryã€‚

---

## ğŸš€ Setup (å®‰è£èˆ‡è¨­å®š)

### 1. å®‰è£èˆ‡å•Ÿå‹•

```bash
npm install
npm run dev
```

### 2. è¨­å®š AI é‡‘é‘° (å¿…è¦)

1. å‰å¾€ Google AI Studio ç”³è«‹ API Keyã€‚
2. é»æ“Šç³»çµ±ä»‹é¢ä¸­çš„ ã€Œâš™ï¸ ç³»çµ±è¨­å®šã€ã€‚
3. åœ¨æ¬„ä½ä¸­è²¼ä¸Šé‡‘é‘°ä¸¦å„²å­˜ï¼Œç³»çµ±æœƒè‡ªå‹•é€²è¡Œé€£ç·šæ¸¬è©¦ã€‚

---

## ğŸ§ª å¿«é€Ÿæ¸¬è©¦èˆ‡å‡è³‡æ–™ç”Ÿæˆ (Quick Test & Mock Data Generation)

ç‚ºäº†æ–¹ä¾¿å¿«é€Ÿæ¸¬è©¦ç³»çµ±çš„ã€Œè¬ç”¨å¤§è¡¨åŒ¯å…¥ã€èˆ‡ã€Œå¤§æ•¸æ“šåˆ†æã€åŠŸèƒ½ï¼Œå»ºè­°ä½¿ç”¨ä»¥ä¸‹ Python è…³æœ¬ç”Ÿæˆç¬¦åˆè¦æ ¼çš„æ¨¡æ“¬è³‡æ–™ï¼ˆå»ºè­°æ–¼ Google Colab åŸ·è¡Œï¼‰ï¼š

1. **è¤‡è£½è…³æœ¬**ï¼šä½¿ç”¨ Python ç”Ÿæˆ 100 ç­†éš¨æ©Ÿé ç´„è³‡æ–™ï¼Œæ¬„ä½å®Œå…¨ç¬¦åˆæœ¬ç³»çµ±ä¹‹ `universal_master_template.csv` è¦æ ¼ã€‚
   - **ç¯„æœ¬å–å¾—**ï¼š`universal_master_template.csv` å¯ç›´æ¥æ–¼ç³»çµ± **ã€Œâš™ï¸ ç³»çµ±è¨­å®š > ä¸‹è¼‰ç¯„æœ¬ã€** è™•ä¸‹è¼‰ã€‚
2. **ç”Ÿæˆæª”æ¡ˆ**ï¼šåŸ·è¡Œå¾Œä¸‹è¼‰ `mock_clinic_data.csv`ã€‚
3. **åŒ¯å…¥æ¸¬è©¦**ï¼šåœ¨ç³»çµ±ä»‹é¢é»æ“Š ã€ŒåŒ¯å…¥ CSVã€ï¼Œå³å¯çœ‹åˆ°é†«å¸«ç”¢èƒ½åœ–è¡¨èˆ‡ç‡Ÿé‹æ•¸æ“šå³æ™‚æ›´æ–°ã€‚

### âš™ï¸ ç³»çµ±å®¹éŒ¯èˆ‡è³‡æ–™é­¯æ£’æ€§ (Data Robustness)

æœ¬ç³»çµ±å…§å»ºæ™ºæ…§å®¹éŒ¯æ©Ÿåˆ¶ï¼Œå³ä½¿ CSV è³‡æ–™ä¸å®Œæ•´ä¹Ÿèƒ½ç©©å®šé‹ä½œï¼š

- **Doctor Name (æœªæŒ‡å®š)**ï¼šè‹¥æ¬„ä½ç©ºç™½ï¼Œç³»çµ±å°‡è‡ªå‹•æ­¸é¡ç‚ºã€ŒæœªæŒ‡å®šã€ã€‚
- **Status (è‡ªå‹•è£œå…¨)**ï¼šè‹¥ç‹€æ…‹ä¸æ˜ï¼Œé è¨­ä»¥ `completed` é€²è¡Œã€Œç¤ºç¯„æ€§ã€ä¼°ç®—ï¼ˆå»ºè­°è£œé½Š status ä»¥ç¢ºä¿ç²¾æº–ï¼‰ã€‚
- **é‡‘é¡è¨ˆç®—**ï¼šå„ªå…ˆè®€å– `purchased_amount`ï¼›è‹¥ç‚ºç©ºï¼Œå‰‡æŸ¥æ‰¾å…§å»ºåƒ¹ç›®è¡¨ (`services.csv`) é€²è¡Œä¼°ç®—ã€‚

### é—œéµæ¬„ä½èªªæ˜

- **status**: åŒ…å« åˆ°è¨º (`completed`)ã€å–æ¶ˆ (`cancelled`)ã€æœªåˆ° (`no_show`)ã€‚
- **purchased_amount**: æ•¸å€¼å‹æ…‹ï¼›æ­¤æ¬„ä½é‡‘é¡æ¬Šé‡ **é«˜æ–¼** ç³»çµ±é è¨­ä¹‹ç™‚ç¨‹å®šåƒ¹ã€‚
- **case_flag / focus_override**: ç”¨æ–¼æ¨™è¨» VIP é¡§å®¢æˆ– AI é‡é»ç›£æ§å°è±¡ã€‚

```python
import pandas as pd
import random
from datetime import datetime, timedelta

# 1. å®šç¾©æ¨™æº– 16 æ¬„ä½ (ç¬¦åˆ System Universal Template)
# æ³¨æ„ï¼šæœ¬ç³»çµ±ç‡Ÿæ”¶è¨ˆç®—å„ªå…ˆæ¬Šé‡ç‚º: purchased_amount > service catalog price
headers = [
    'appointment_id', 'date', 'customer_id', 'gender', 'age', 'is_new',
    'service_item', 'purchased_amount', 'doctor_name', 'staff_name',
    'status', 'room', 'equipment', 'remaining_sessions', 'case_flag', 'focus_override'
]

# 2. å®šç¾©éš¨æ©Ÿè³‡æ–™æ± 
doctors = ['Dr. Chen', 'Dr. Wu', 'Dr. Lee', 'Dr. Chang', 'Dr. Strange']
staffs = ['Nurse Lin', 'Nurse Wang', 'Therapist Amy', 'Therapist Eva']
services = [
    ('PicoSure', 8000), ('Thermage', 60000), ('Botox', 4500),
    ('Ulthera', 55000), ('HydraFacial', 3000)
]
statuses = ['completed', 'completed', 'completed', 'cancelled', 'no_show'] # åŠ æ¬Š completed

# 3. ç”Ÿæˆ 100 ç­†æ¨¡æ“¬è³‡æ–™
data = []
start_date = datetime.now().replace(day=1) # æœ¬æœˆ 1 è™Ÿ

for i in range(1, 101):
    svc, base_price = random.choice(services)

    # éš¨æ©Ÿæ³¢å‹•åƒ¹æ ¼ (90% ~ 110%)
    real_price = int(base_price * random.uniform(0.9, 1.1))

    row = {
        'appointment_id': f'MOCK-{i:03d}',
        'date': (start_date + timedelta(days=random.randint(0, 20))).strftime('%Y-%m-%d'),
        'customer_id': f'CUS-{random.randint(100, 150):03d}',
        'gender': random.choice(['female', 'female', 'male']),
        'age': random.randint(20, 60),
        'is_new': random.choice(['yes', 'no', 'no']),
        'service_item': svc,
        'purchased_amount': real_price, # é—œéµæ¬„ä½ for Revenue
        'doctor_name': random.choice(doctors),
        'staff_name': random.choice(staffs),
        'status': random.choice(statuses),
        'room': f'R{random.randint(1,5):02d}',
        'equipment': 'Standard-Device',
        'remaining_sessions': random.randint(0, 10),
        'case_flag': random.choice(['none', 'none', 'vip', 'risk']),
        'focus_override': 'none'
    }
    # ç¢ºä¿é †åº
    data.append([row[col] for col in headers])

# 4. å»ºç«‹ DataFrame ä¸¦å­˜æª”
df = pd.DataFrame(data, columns=headers)
filename = 'mock_clinic_data.csv'
df.to_csv(filename, index=False, encoding='utf-8-sig') # BOM for Excel friendliness

print(f"âœ… å·²ç”Ÿæˆ {len(df)} ç­†æ¨¡æ“¬è³‡æ–™ï¼Œè«‹ä¸‹è¼‰ {filename} ä¸¦åŒ¯å…¥ç³»çµ±æ¸¬è©¦ã€‚")
```

---

## ğŸ”§ Technologies

- **Frontend**: TypeScript, Vite, Vanilla JS (ES Modules)
- **AI Engine**: Google AI Studio (Gemini) via models.list dynamic selection (Default: Flash / Flash-Lite; Optional: Pro)
- **Data Processing**: PapaParse (CSV Parsing)
- **Charts**: Chart.js & Matrix Plugin

---

## License

This project is licensed under **CC BY-NC 4.0**.

- Learning and non-commercial use is welcome.
- Commercial use or redistribution as a product is not allowed without permission.
  
---

Â© 2026 Smart Clinic Dashboard. All Rights Reserved.
